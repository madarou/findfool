<link rel="stylesheet" type="text/css" href="resource/css/testbank.css"/>
<link rel="stylesheet" type="text/css" href="resource/css/mymodalcontent.css"/>

<div class="col-sm-9 col-sm-offset-3 col-md-8 col-md-offset-2 main" ng-controller="mytestbank">
<h2 class="sub-header">未添加试题</h2>
   <ul class="nav nav-tabs list-group">
        <!--<ul class="nav nav-tabs" ng-model="template" ng-options="t.name for t in templates">-->
        <li ng-repeat="tt in Qtype"
            ng-class="{true: 'active', false: 'inactive'}[tt.data==active]">
            <a href data="{{tt.data}}" ng-click="GoPage($event.target)">
                {{tt.name}}</a>
        </li>
    </ul>
    <div class="col-md-10" ng-class="{0:'hedden', 1: ''}[show]">
        <p>搜索我的题目（标签）</p>

        <form class="form-inline" role="form">
            <input type="text" ng-model="reciveData.keyword" class="form-control">
            <button class="btn btn-default" ng-click="queryQuestions(1)">搜索</button>
        
        </form>
        <br>
        
         <div class="table-responsive">
					   <table class="table table-striped">
					        <thead>
					        <tr>
					            <th>试题内容</th>
					            
					            <th></th>
					        </tr>
					        </thead>
					        <tbody>
					        <tr ng-repeat="q in reciveData.questions">
					            <td abstract context={{q.context}}></td>
					           
					            <td>
					                <a href="" ng-click="modifyQuestionInTest('lg',q,{'operation':'view','title':'查看试题'})">查看/</a>
					                <a href="" ng-click="modifyQuestionInTest('lg',q,{'operation':'edit','title':'修改试题'})">修改/</a>
					                <a href="" ng-click="addQuestionToTest(q.qid,$event)">增加</a>
					                <!--  a href="" ng-click="deleteQuestion(q)">删除</a-->
					            </td>
					        </tr>
					        </tbody>
					    </table>      
		   </div>

     
        <ul class="pagination">
            <li ng-class="{true: '', false: 'disabled'}[reciveData.frontPage]"><a ng-click="queryQuestions(1)">&laquo;</a></li>
            <li ng-repeat="i in reciveData.pagelist" ng-class="{true: 'active', false: ''}[i.current]"><a ng-click="queryQuestions(i.index)">{{i.index}}</a></li>
            <li ng-class="{true: '', false: 'disabled'}[reciveData.rearPage]"><a ng-click="queryQuestions(reciveData.index)">&raquo</a></li>
        </ul>
        <div>
            <button type="button" ng-class="{true:'btn btn-default',false:'hedden'}[myu==3]" ng-click="InsertQuestion()">加入</button>
            <button type="button" class="btn btn-default" data="{{active}}" ng-click="AddPage($event.target)">新增</button>
            <button type="button" class="btn btn-default" ng-click="modifyQuestion()">修改</button>
            <button type="button" class="btn btn-default" ng-click="deleteQuestion()">删除</button>
        </div>
    </div>

    <!--<h1>{{active==1}}</h1>-->
    <div ng-class="{0:'', 1: 'hedden'}[show]">  
    
        <div class="col-md-8" ng-if="active==1">
            
            <div class="row" style="margin-top: 30px">
               		<p>题干</p>
		            <form class="form-inline" role="form">
		                <!--<textarea class="form-control" type="text" rows=9 style="width: 100%;resize: none"-->
		                          <!--ng-model="newQuestion.context"></textarea>-->
		                <!--<div ng-include src="'mdeditor.html'" ></div>-->
						<textarea ckEditor ng-model="newQuestion.context"></textarea>
						<!-- textarea ng-model="newQuestion.context"></textarea-->
		                <div class="hedden" id="context" >{{context}}</div>
		                <div>
			                <p style="padding: 20px">标签(以 英文,符号 区分)
			                    <input type="text" id="tag" class="form-control" ng-model="newQuestion.tag">
			                </p>
			                <p style="padding: 20px">分数
			                     <input type="text"  class="form-control" ng-model="ans.score" ng-change="isNum(ans.score)">
			                </p>
		                </div>
		                
		                <button class="btn btn-primary" ng-click="addOne()">新增选项</button>
		             
		                <ul style="margin-top: 30px;list-style-type:none">
		                    <li ng-repeat="ans in newQuestion.answer" style="margin-top: 30px">
		                        <textarea ckeditor minheight="80" width="70%" toolbar="none" operation="edit" ng-model="ans.text"></textarea>
		                       
		                        <a data="{{$index}}" class="glyphicon glyphicon-remove aa" href=""
		                           ng-click="removeOne($index)">删除</a>
		                        <input style="width:5%" type="checkbox" ng-model="ans.isright">是否正确
		
		                    </li>
		                </ul>
		                <div  style="padding-top: 70px">
		                    <button class="btn btn-primary " ng-click="addQuestion()">保存</button>
		                    <button class="btn btn-primary" ng-click="resetQuestion()">重置</button>
		                    <button class="btn btn-primary" ng-click="cancel()">取消</button>
		                </div>
		            </form>
	          </div>  
        </div>
        
        <div ng-if="active==2">
            
            <form class="form-horizontal" role="form">
               <div class="form-group">
				    <label  class="col-sm-2 control-label">标题</label>
				    <div class="col-sm-4">
				      <input type="text" class="form-control" ng-model="newQuestion.name" placeholder="标题">
				    </div>
			   </div>
			   
			    <div class="form-group">
				    <label  class="col-sm-2 control-label">题干</label>
				    <div class="col-sm-10">
				      <textarea ckeditor minheight="240" width="100%" operation={{operation}} ng-model="newQuestion.context"></textarea>
				    </div>
			   </div>
			   
			    <div class="form-group">
				    <label  class="col-sm-2 control-label">标签(以 , 区分)</label>
				    <div class="col-sm-4">
				      <input type="text" class="form-control" ng-model="newQuestion.tag" placeholder="标签">
				    </div>
			   </div>
	           
                
                <div class="form-group">
				    <label  class="col-sm-2 control-label"></label>
				    <div class="col-sm-4">
				      <button class="btn btn-primary"  ng-click="addOne()">新增测试用例</button>
				    </div>
			   </div>
                
              
                
                <div style="list-style-type:upper-alpha;" ng-class="{true:'', false: 'hedden'}[newQuestion.show]"  ng-repeat="ans in newQuestion.answer">
                    
                     <div class="form-group">
					    <label  class="col-sm-2 control-label">输入</label>
					    <div class="col-sm-8"> 
					     <input type="text"  class="form-control"  ng-model="ans.text">
					    </div>
			   		</div>
			   		
                     <div class="form-group">
					    <label  class="col-sm-2 control-label">输出</label>
					    <div class="col-sm-8">
					       <input type="text"  class="form-control"  ng-model="ans.isright">
					    </div>
			   		</div>
			   		
			   		 <div class="form-group">
					    <label  class="col-sm-2 control-label">分数</label>
					    <div class="col-sm-1">
					        <input type="text"   class="form-control col-sm-1" ng-model="ans.score" ng-change="isNum(ans.score)" />
					    </div>
					    <div class="col-sm-2">
					      <button class="btn btn-outline"   ng-click="removeOne($index)">删除测试用例</button>  	
					    </div>
			   		</div>
		           </div>

               

				<!-- div class="btn-group-justified">
					<p>语言选择</p>
	                <ul>
	                    <input type="radio">C
	                    <input type="radio">Java
	                </ul>
				</div-->

                <div class="col-xs-6 col-xs-offset-2">
                    <a class="btn btn-primary " ng-click="addQuestion()">保存</a>
                    <a class="btn btn-primary" ng-click="resetQuestion()">重置</a>
                    <a class="btn btn-primary" ng-click="cancel()">取消</a>
                </div>
            </form>
        </div>
        
        
        <div ng-if="active==3">
               <p>标题
                   <input type="text" id="name" class="form-control" ng-model="newQuestion.name">
               </p>
            <p>题干</p>

            <form class="form-inline" role="form">
                <!--<textarea ng-model="newQuestion.context" class="form-control" type="text" rows=9 style="width: 100% ;resize: none"></textarea>-->
                <!--<div ng-include src="'mdeditor.html'" ></div>-->
                <textarea ng-model="context"></textarea>
                <p style="padding: 20px">标签(以 , 区分)<input type="text" class="form-control" ng-model="newQuestion.tag">
                </p>


                <div class="btn-group-justified" style="padding: 70px">
                    <a class="btn btn-default " ng-click="addQuestion()">保存</a>
                    <a class="btn btn-default" ng-click="resetQuestion()">重置</a>
                    <a class="btn btn-default" ng-click="cancel()">取消</a>
                </div>
            </form>
        </div>
    </div>
</div>



